name: Combine durations
description: Combine pytest-split durations from multiple groups

inputs:
  durations-path:
    description: The path to the durations file (must match `--durations-path` arg to pytest)
    required: true
  split-prefix:
    description: The path to the split durations (must match the artifacts name)
    required: true

runs:
  using: composite
  steps:
    - name: Combine durations
      env:
        IMAGE: inspirehep/hep
      shell: bash
      run: >
        python3 .github/actions/combine-durations/combine_durations.py ${{ inputs.split-prefix }} ${{ inputs.durations-path }}
